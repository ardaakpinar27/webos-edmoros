<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>EdMessenger</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<!-- FIREBASE -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { getAuth } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
  import { getFirestore } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyAMIIMACrsk6mNm3DQpziPHbQpwwTs2LX8",
    authDomain: "olednote.firebaseapp.com",
    projectId: "olednote",
    storageBucket: "olednote.firebasestorage.app",
    messagingSenderId: "797084747250",
    appId: "1:797084747250:web:ad8406c6abe4c699b8d76b"
  };

  const app = initializeApp(firebaseConfig);
  window.auth = getAuth(app);
  window.db = getFirestore(app);
</script>
</head>

<body>

<!-- LOGIN -->
<div id="authScreen" class="overlay">
  <div class="auth-box">
    <h1>EdMessenger</h1>
    <input id="authEmail" placeholder="E-posta">
    <input id="authPass" type="password" placeholder="Şifre">
    <input id="authPass2" type="password" placeholder="Şifre (Tekrar)" class="hidden">
    <button id="loginBtn" class="pill-btn">Giriş Yap</button>
    <button id="registerBtn" class="pill-btn secondary">Kayıt Ol</button>
    <p id="authError" class="error"></p>
  </div>
</div>

<!-- USERNAME -->
<div id="usernameScreen" class="overlay hidden">
  <div class="auth-box">
    <h2>Kullanıcı Adı</h2>
    <input id="usernameInput" placeholder="username">
    <button id="saveUsernameBtn" class="pill-btn">Devam</button>
    <p id="usernameError" class="error"></p>
  </div>
</div>

<!-- APP -->
<div id="appRoot" class="hidden">

  <header class="topbar">
    <h1>EdMessenger</h1>
  </header>

  <main class="content">

    <!-- CHATS -->
    <section id="chatsView" class="view active">
      <!-- sohbetler -->
    </section>

    <!-- FRIENDS -->
    <section id="friendsView" class="view">
      <div class="friends-empty">
        <div id="openAddFriend" class="add-friend-pill">
          Arkadaş Ekle
        </div>
      </div>
    </section>

    <!-- SETTINGS -->
    <section id="settingsView" class="view">
      <div class="setting-item disabled">
        Karanlık Mod (yakında)
      </div>
    </section>

  </main>

  <footer class="navbar">
    <button class="tab active" data-view="chatsView">
      <i class="fa-solid fa-comments"></i>
    </button>
    <button class="tab" data-view="friendsView">
      <i class="fa-solid fa-user-group"></i>
    </button>
    <button class="tab" data-view="settingsView">
      <i class="fa-solid fa-gear"></i>
    </button>
  </footer>

</div>

<!-- ADD FRIEND MODAL -->
<div id="addFriendModal" class="modal hidden">
  <div class="modal-box">
    <h3>Arkadaş Ekle</h3>
    <input id="searchUsername" placeholder="username">
    <button id="sendRequestBtn" class="pill-btn">İstek Gönder</button>
    <p id="friendError" class="error"></p>
    <button id="closeModal" class="close-btn">Kapat</button>
  </div>
</div>

<script type="module" src="app.js"></script>
</body>
</html>